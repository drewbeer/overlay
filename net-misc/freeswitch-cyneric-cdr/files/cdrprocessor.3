#!/sbin/runscript
# Copyright 2007 Gentoo Foundation
# Distributed under the terms of the GNU General Public License, v2 or later
# $Header: $

CDR="CDRProcessor3"
CDRDIR="/opt/cyneric/${CDR}"

do_setlimits() {
        ulimit -c unlimited
        ulimit -d unlimited
        ulimit -f unlimited
        ulimit -i unlimited
        ulimit -n 999999
        ulimit -q unlimited
        ulimit -u unlimited
        ulimit -v unlimited
        ulimit -x unlimited
        ulimit -l unlimited
        return 0
}

start() {
	ebegin "Starting ${CDR}"
	start-stop-daemon --start --quiet --exec ${CDRDIR}/scripts/start-java.sh start --pidfile ${CDRDIR}/log/java.isrunning
	eend $?
}

stop() {
	ebegin "Stopping ${CDR}"
	start-stop-daemon --stop --quiet --exec ${CDRDIR}/scripts/start-java.sh stop --pidfile ${CDRDIR}/log/java.isrunning
        eend $?
}

status() {
	ebegin "Status ${CDR}"
	${CDRDIR}/scripts/start-java.sh status
        eend $?
}
